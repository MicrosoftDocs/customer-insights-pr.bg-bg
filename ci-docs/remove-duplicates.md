---
title: Премахване на дубликати преди обединение на данни
description: Втората стъпка в процеса на обединяване е избирането кой запис да се запази, когато се намерят дубликати.
recommendations: false
ms.date: 08/01/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: sstabbert
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-map
- ci-match
- customerInsights
ms.openlocfilehash: 3f84c1c149f0befcbe489ccdd8a666ce6d5d798a
ms.sourcegitcommit: 267c317e10166146c9ac2c30560c479c9a005845
ms.translationtype: MT
ms.contentlocale: bg-BG
ms.lasthandoff: 08/16/2022
ms.locfileid: "9304460"
---
# <a name="remove-duplicates-before-unifying-data"></a>Премахване на дубликати преди обединение на данни

Тази незадължителна стъпка в обединението ви дава възможност да настроите правила за елиминиране на дублиращи се **записи в рамките** на обект. Дедупликацията идентифицира няколко записа за клиент и избира най-добрия запис, който да запази (въз основа на основните предпочитания за обединяване) или обединява записите в един (въз основа на разширени предпочитания за обединяване). Изходните записи се свързват към обединения запис с алтернативни идентификатори. Ако правилата не са конфигурирани, се прилагат дефинирани от системата правила.

## <a name="default-deduplication"></a>Дедупликация по подразбиране

Правилата, дефинирани от системата, се прилагат, ако не се добавят правила за дедупликация.

- Първичният ключ е дедупликиран.
  За всички записи със същия първичен ключ най-запълненият **запис** (този с най-малко null стойности) е победителят.
- Всички правила за съвпадение между обект се прилагат към обекта.
  Например: В стъпката на съвпадение, ако обект А е съотнасян срещу обект Б на FullName *и* DateofBirth *, тогава обект А също е дедъпликиран от* FullName *и* DateofBirth *·*. Тъй като *FullName* и *DateofBirth* са валидни ключове за идентифициране на клиент в обект А, тези ключове са валидни и за идентифициране на дублиращи се клиенти в обект А.

## <a name="include-enriched-entities-preview"></a>Включване на обогатени обекти (визуализация)

Ако сте обогатявали обекти на ниво източник на данни, за да помогнете за подобряване на резултатите от обединяването ви, изберете ги. За повече информация вижте [Обогатяване за източници на](data-sources-enrichment.md) данни.

1. На **страницата Дублирани** записи изберете **Използване на обогатени обекти** в горната част на страницата.

1. От екрана Използване на **обогатени обекти** изберете един или повече обогатени обекти.

1. Изберете **Готово**.

## <a name="define-deduplication-rules"></a>Дефиниране на правилата за дедупликация

1. На **страницата Дублирани** записи изберете обект и изберете **Добавяне на правило**, за да определите правилата за дедупликация.

   :::image type="content" source="media/m3_duplicates_showmore.png" alt-text="Екранна снимка на дублирани записи страница с обект маркиран и Добавяне на правило показва"  lightbox="media/m3_duplicates_showmore.png":::

   1. В прозореца Добавяне на **правило** въведете следната информация:
      - **Изберете поле**: Изберете от списъка на наличните полета от обекта, който искате да проверите за дубликати. Изберете полета, които вероятно са уникални за всеки отделен клиент. Например имейл адрес или комбинацията от име, град и телефонен номер.
      - **Нормализирайте**: Изберете от следните опции за нормализиране на избраните атрибути.
        - **Цифри**: Преобразува други цифрови системи, като римски цифри, в арабски цифри. *VIII* става *8*.
        - **Символи**: Премахва всички символи и специални знаци. *Head&Shoulder* става *HeadShoulder*.
        - **Текст в долен случай: Преобразува целия знак в по-нисък случай**. *САМО ГЛАВНИ и Заглавни Букви* става *само главни и заглавни букви*.
        - **Тип (Телефон, Име, Адрес, Организация)**: Стандартизиране на имена, заглавия, телефонни номера, адреси и др.
        - **Unicode в ASCII**: Преобразува unicode нотация в ASCII знаци. */u00B2* става *2*.
        - **Whitespace**: Премахва всички пространства. *Здравей свят* става *ЗдравейСвят*.
      - **Прецизност**: Задайте нивото на точност, за да кандидатствате за това състояние.
        - **Основно**: Изберете от *Ниско (30%)*, *Средно (60%)*, *Високо (80%)*, и *Точно (100%)*. Изберете **Точно**, за да съответствате само на записи, които съответстват на 100 процента.
        - **Персонализиран**: Задайте процент, на който записите трябва да съвпадат. Системата ще съвпада само със записи, преминали този праг.
      - **Име**: Име на правилото.

      :::image type="content" source="media/m3_duplicates_add.png" alt-text="Екранна снимка на Добавяне на прозорец с правила за премахване на дубликати.":::

   1. По желание изберете **Добавяне** > **на условие**, за да добавите още условия към правилото. Условията са свързани с логически оператор И и по този начин се изпълняват само ако са изпълнени всички условия.

   1. По желание **Добавете добавяне на изключение** > **, за да** добавите изключения към [правилото](match-entities.md#add-exceptions-to-a-rule). Изключенията се използват за справяне с редки случаи на фалшиви положителни резултати и фалшиви негативи.

   1. Изберете **Готово**, за да създадете правилото.

1. По желание, [добавете още правила](#define-deduplication-rules).

1. Изберете обект и след това **Редактирайте предпочитанията за** обединяване.

1. В **екрана с предпочитания за обединяване**:
   1. Изберете една от трите опции, за да определите кой запис да запазите, ако се намери дубликат:
      - **Най-попълвани**: Идентифицира записа с най-попълнени полета на атрибути като записа победител. Това е опцията за сливане по подразбиране.
      - **Най-скорошни**: Идентифицира записа на победителя въз основа на най-скорошни. Изисква дата или числово поле за определяне на скоростта.
      - **Най-нескорошни**: Идентифицира записа на победителя въз основа на най-нескорошни. Изисква дата или числово поле за определяне на скоростта.

      В случай на вратовръзка, записът на победителя е този с MAX(PK) или по-голямата стойност на първичния ключ.

   1. По желание, за да определите предпочитанията за обединяване на отделни атрибути на обект, изберете **Разширени** в долната част на екрана. Можете например да изберете да запазите най-скорошния имейл И най-пълния адрес от различни записи. Разгънете обекта, за да видите всички негови атрибути и да определите коя опция да използвате за отделни атрибути. Ако изберете опция, базирана на рекреция, трябва също така да зададете поле за дата/час, което определя възможността за възстановяване.

      :::image type="content" source="media/m3_adv_merge.png" alt-text="Разширен екран с предпочитания за обединяване, показващ скорошния имейл и пълен адрес":::

   1. Изберете **Готово**, за да приложите предпочитанията си за обединяване.

1. След като дефинирате правилата за дедупликация и обедините предпочитанията, изберете **Напред**.
  
> [!div class="nextstepaction"]
> [Следваща стъпка за един-единствен обект: Обединение на полета](merge-entities.md)

> [!div class="nextstepaction"]
> [Следваща стъпка за няколко обекта: Съвпадение на условията](match-entities.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]
