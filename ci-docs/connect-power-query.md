---
title: Свързване с Power Query източник на данни (съдържа видео)
description: Най-много данни през Power Query конектор (съдържа видео).
ms.date: 07/26/2022
ms.reviewer: v-wendysmith
ms.subservice: audience-insights
ms.topic: how-to
author: mukeshpo
ms.author: mukeshpo
manager: shellyha
searchScope:
- ci-data-sources
- ci-create-data-source
- customerInsights
ms.openlocfilehash: 6a25e332bafab414c9def4e1e6b461139dd24ea6
ms.sourcegitcommit: dfba60e17ae6dc1e2e3830e6365e2c1f87230afd
ms.translationtype: MT
ms.contentlocale: bg-BG
ms.lasthandoff: 09/09/2022
ms.locfileid: "9463252"
---
# <a name="connect-to-a-power-query-data-source"></a>Свързване с Power Query източник на данни

Power Query предлага широк набор от конектори за най-много данни. Повечето от тези конектори се поддържат от Dynamics 365 Customer Insights.

Добавянето на източници на данни въз основа на Power Query конектори като цяло следва стъпките, очертани в този раздел. В зависимост от конектора, който използвате обаче, се изисква различна информация. За да научите повече, вижте документацията за отделните конектори в препратката [Power Query към конектора](/power-query/connectors/).

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RWN6EK]

## <a name="create-a-new-data-source"></a>Създаване на нов източник на данни

1. Отидете на **Данни** > **Източници на данни**.

1. Изберете **Добавяне на източник на данни**.

1. Изберете **Microsoft Power Query**.

1. Предоставете **Име** и незадължително **Описание** за източник на данни и изберете **Напред**.

1. Изберете един от [наличните конектори](#available-power-query-data-sources). В този пример избираме конектора **Text/CSV**.

1. Въведете необходимите подробности в **Настройки за връзка** за избрания конектор и изберете **Напред**, за да визуализирате данните.

1. Изберете **Трансформиране на данни**.

1. Диалогът **Power Query - Редактиране на заявки** ви позволява да прегледате и прецизиране на данните. Обектите, идентифицирани от системите в избрания източник на данни, се показват в левия екран.

   :::image type="content" source="media/data-manager-configure-edit-queries.png" alt-text="Диалогов прозорец „Редактиране на заявки“":::

1. Можете също да преобразувате данните. Изберете обект, който да редактирате или преобразувате. Използвайте опциите в прозореца Power Query, за да приложите трансформации. Всяка трансформация е в списъка под **Приложени стъпки**. Power Query предоставя множество [предварително изградени варианти за](/power-query/power-query-what-is-power-query#transformations) трансформация.

   Препоръчваме ви да използвате следните трансформации:

   - Ако поглъщате данни от CSV файл, първият ред често съдържа заглавки. Отидете **на Трансформиране** и изберете **Използване на първия ред като заглавки**.
   - Уверете се, че типът данни е зададен съответстващо. Например за полета за дата изберете тип дата.

1. За да добавите допълнителни обекти към източник на данни си в диалоговия прозорец Редактиране на **заявки, отидете** в Начало **и изберете** Получаване на **данни**. Повторете стъпки 5-10, докато не сте добавили всички обекти за този източник на данни. Ако имате база данни, която включва много набори от данни, всеки набор от данни е собствен обект.

1. Изберете **Записване**. **Отваря се страницата източници на данни**, показваща новия източник на данни в **състояние "Обновяване**".

   [!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

Зареждането на данни може да отнеме време. След успешно обновяване, най-търсените данни могат да бъдат прегледани от [**страницата Обекти**](entities.md).

> [!CAUTION]
>
> - Източник на данни въз основа на Power Query създава поток от [данни в Dataverse](/power-query/dataflows/overview-dataflows-across-power-platform-dynamics-365). Не променяйте името на поток от данни в Power Platform центъра за администриране, който се използва в "Аналитични данни за клиенти". Преименуването на поток от данни причинява проблеми с препратките между източник на данни "Аналитични данни за клиенти" и потока Dataverse от данни.
> - Едновременните оценки за Power Query източници на данни в Customer Insights имат същите [ограничения за обновяване като Dataflows в PowerBI.com](/power-query/power-query-online-limits#refresh-limits). Ако обновяването на данни е неуспешно, защото е достигнало ограничението за оценка, препоръчваме да коригирате графика за обновяване за всеки поток от данни, за да гарантирате, че източниците на данни не се обработват едновременно.

### <a name="available-power-query-data-sources"></a>Налични Power Query източници на данни

Вижте препратката [Power Query](/power-query/connectors/) към конектора за списък от конектори, които можете да използвате за импортиране на данни в Customer Insights.

Конектори с отметка в **колоната "Аналитични данни за клиенти (потоци от данни)** са достъпни за създаване на нови източници на данни въз основа на Power Query. Прегледайте документацията на конкретен конектор, за да научите повече за неговите предпоставки, [ограничения на](/power-query/power-query-online-limits) заявките и други подробности.

## <a name="add-data-from-on-premises-data-sources"></a>Добавяне на данни от локални източници на данни

Поглъщането на данни от локален източници на данни се поддържа въз основа на Microsoft Power Platform потоци от данни (PPDF). Можете да разрешите потоци от данни в "Аналитични данни [за клиенти", като предоставите URL адреса Microsoft Dataverse на](create-environment.md) средата при настройка на средата.

Източниците на данни, които се създават след свързване на Dataverse среда с Customer Insights, използват [Power Platform потоци от](/power-query/dataflows/overview-dataflows-across-power-platform-dynamics-365) данни по подразбиране. Потоците от данни поддържат локална свързаност чрез шлюзовете за данни. Можете да премахнете и пресъздадете източници на данни, съществували преди дадена Dataverse среда да е била свързана [с помощта на локален шлюзове за данни](/data-integration/gateway/service-gateway-app).

Шлюзовете за данни от съществуваща Power BI или Power Apps среда ще бъдат видими и можете да ги използвате повторно в "Аналитични данни за клиенти", ако шлюзът за данни и средата "Аналитични данни за клиенти" са в един и същ регион на Azure. Страницата с източници на данни показва връзки към Microsoft Power Platform среда, където можете да преглеждате и конфигурирате локален шлюзове за данни.

> [!IMPORTANT]
> Уверете се, че шлюзовете ви са актуализирани до най-новата версия. Можете да инсталирате актуализация и да преконфигурирате шлюз от подкана, показана на екрана на шлюза директно или [да изтеглите най-новата версия](https://powerapps.microsoft.com/downloads/). Ако не използвате най-новата версия на шлюз, обновяването на потока от данни е неуспешно със съобщения за грешки като **Ключовата дума не се поддържа: свойства на конфигурацията. Име на параметъра: ключова дума**.
>
> Грешките с локален шлюзове за данни в Customer Insights често се причиняват от проблеми с конфигурацията. За повече информация относно отстраняването на шлюзове за данни вижте [Отстраняване на локален шлюз](/data-integration/gateway/service-gateway-tshoot) за данни.

## <a name="edit-power-query-data-sources"></a>Редактиране на Power Query източници на данни

> [!NOTE]
> Възможно е да не е възможно да се направят промени в източниците на данни, които в момента се използват в един от процесите на приложението (сегментиране или обединяване на данни например).
>
> В **страницата "Настройки"** можете да проследявате напредъка на всеки от активните процеси. Когато даден процес приключи, можете да се върнете в страницата **Източници на данни** и да направите промени.

1. Отидете на **Данни** > **Източници на данни**.

1. До източник на данни, които бихте искали да актуализирате, изберете **Редактиране**.

1. Приложете промените и трансформациите си в диалога **Power Query - Редактиране на заявки,** както е описано в секцията Създаване на [нов източник на данни](#create-a-new-data-source).

1. Изберете **Запиши**, за да приложите промените си и да се върнете на страницата източници на **данни**.

   [!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

[!INCLUDE [footer-include](includes/footer-banner.md)]
