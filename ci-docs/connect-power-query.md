---
title: Въвеждане на данни през Power Query конектор (съдържа видео)
description: Конектори за източници на данни въз основа на Power Query.
ms.date: 05/09/2022
ms.reviewer: v-wendysmith
ms.subservice: audience-insights
ms.topic: how-to
author: adkuppa
ms.author: matgos
manager: shellyha
searchScope:
- ci-data-sources
- ci-create-data-source
- customerInsights
ms.openlocfilehash: b99c3b446e580f455f9678d54d9db414aea9b331
ms.sourcegitcommit: 5e26cbb6d2258074471505af2da515818327cf2c
ms.translationtype: MT
ms.contentlocale: bg-BG
ms.lasthandoff: 06/14/2022
ms.locfileid: "9011644"
---
# <a name="connect-to-a-power-query-data-source"></a>Свързване с Power Query източник на данни

Power Query предлага широк набор от конектори за най-много данни. Повечето от тези конектори се поддържат от Dynamics 365 Customer Insights.

Добавянето на източници на данни въз основа на Power Query конектори като цяло следва стъпките, очертани в този раздел. В зависимост от конектора, който използвате обаче, се изисква различна информация. За да научите повече, вижте документацията за отделните конектори в препратката [Power Query към конектора](/power-query/connectors/).

> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RWN6EK]

## <a name="create-a-new-data-source"></a>Създаване на нов източник на данни

1. Отидете на **Данни** > **Източници на данни**.

1. Изберете **Добавяне на източник на данни**.

1. Изберете **Microsoft Power Query**.

1. Предоставете **Име** и незадължително **Описание** за източник на данни и изберете **Напред**.

1. Изберете един от [наличните конектори](#available-power-query-data-sources). В този пример избираме конектора **Text/CSV**.

1. Въведете необходимите подробности в **Настройки за връзка** за избрания конектор и изберете **Напред**, за да визуализирате данните.

1. Изберете **Трансформиране на данни**. В тази стъпка ще добавите обекти към източника на данни. Обектите са набори от данни. Ако имате база данни, която включва много набори от данни, всеки набор от данни е собствен обект.

1. Диалогът **Power Query - Редактиране на заявки** ви позволява да прегледате и прецизиране на данните. Обектите, идентифицирани от системите в избрания източник на данни, се показват в левия екран.

   :::image type="content" source="media/data-manager-configure-edit-queries.png" alt-text="Диалогов прозорец „Редактиране на заявки“":::

1. Можете също да преобразувате данните. Изберете обект, който да редактирате или преобразувате. Използвайте опциите в прозореца Power Query, за да приложите трансформации. Всяка трансформация е в списъка под **Приложени стъпки**. Power Query предоставя множество предварително изградени варианти за трансформация. За повече информация вижте [Power Query Трансформации](/power-query/power-query-what-is-power-query#transformations).

   Препоръчваме ви да използвате следните трансформации:

   - Ако поглъщате данни от CSV файл, първият ред често съдържа заглавки. Отидете **на Трансформиране** и изберете **Използване на първия ред като заглавки**.
   - Уверете се, че типът данни е зададен съответстващо. Например за полета за дата изберете тип дата.

1. За да добавите допълнителни обекти към източник на данни си в диалоговия прозорец Редактиране на **заявки, отидете** в Начало **и изберете** Получаване на **данни**. Повторете стъпки 6-10, докато не сте добавили всички обекти за този източник на данни.

1. Изберете **Записване**. **Отваря се страницата източници на данни**, показваща новия източник на данни в **състояние "Обновяване**".

### <a name="available-power-query-data-sources"></a>Налични Power Query източници на данни

Вижте препратката [Power Query](/power-query/connectors/) към конектора за списък от конектори, които можете да използвате за импортиране на данни в Customer Insights.

Конектори с отметка в **колоната "Аналитични данни за клиенти (потоци от данни)** са достъпни за създаване на нови източници на данни въз основа на Power Query. Прегледайте документацията на конкретен конектор, за да научите повече за неговите предпоставки, [ограничения на](/power-query/power-query-online-limits) заявките и други подробности.

## <a name="add-data-from-on-premises-data-sources"></a>Добавяне на данни от локални източници на данни

Поглъщането на данни от локален източници на данни се поддържа въз основа на Microsoft Power Platform потоци от данни (PPDF). Можете да разрешите потоци от данни в "Аналитични данни [за клиенти", като предоставите URL адреса Microsoft Dataverse на](create-environment.md) средата при настройка на средата.

Източниците на данни, които се създават след свързване на Dataverse среда с Customer Insights, използват [Power Platform потоци от](/power-query/dataflows/overview-dataflows-across-power-platform-dynamics-365) данни по подразбиране. Потоците от данни поддържат локална свързаност чрез шлюзовете за данни. Можете да премахнете и пресъздадете източници на данни, съществували преди дадена Dataverse среда да е била свързана [с помощта на локален шлюзове](/data-integration/gateway/service-gateway-app) за данни.

Шлюзове за данни от съществуваща среда на Power BI или Power Apps ще са видими и можете да ги използвате повторно в Customer Insights. Страницата с източници на данни показва връзки към Microsoft Power Platform среда, където можете да преглеждате и конфигурирате локален шлюзове за данни.

> [!IMPORTANT]
> Уверете се, че шлюзовете ви са актуализирани до най-новата версия. Можете да инсталирате актуализация и да преконфигурирате шлюз от подкана, показана на екрана на шлюза директно или [да изтеглите най-новата версия](https://powerapps.microsoft.com/downloads/). Ако не използвате най-новата версия на шлюз, обновяването на потока от данни е неуспешно със съобщения за грешки като **Ключовата дума не се поддържа: свойства на конфигурацията. Име на параметъра: ключова дума**.

## <a name="edit-power-query-data-sources"></a>Редактиране на Power Query източници на данни

> [!NOTE]
> Може да няма възможност за извършване на промени в източниците на данни, които в момента се използват в някой от процесите на приложението (*сегментиране*, *съвпадение* или *обединяване* например).
>
> В **страницата "Настройки"** можете да проследявате напредъка на всеки от активните процеси. Когато даден процес приключи, можете да се върнете в страницата **Източници на данни** и да направите промени.

1. Отидете на **Данни** > **Източници на данни**.

1. До източник на данни, които бихте искали да актуализирате, изберете **Редактиране**.

   [!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

1. Приложете промените и трансформациите си в диалога **Power Query - Редактиране на заявки,** както е описано в секцията Създаване на [нов източник на данни](#create-a-new-data-source).

1. Изберете **Запиши** след Power Query завършване на редакциите ви, за да запазите промените си.
